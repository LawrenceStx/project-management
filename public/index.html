<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apex Systems</title>
    <link rel="stylesheet" href="/css/style.css">
    <!-- Only using Bootstrap Icons, NO Bootstrap CSS framework -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>

<!-- Sidebar -->
<aside>
    <a href="/" class="brand">ðŸ¦– Apex <span>Systems</span></a>
    
    <select id="global-project-selector">
        <option disabled selected>Select Project...</option>
    </select>

    <nav>
        <li class="nav-item"><a href="#" class="nav-link active" data-page="dashboard"><i class="bi bi-speedometer2"></i> Dashboard</a></li>
        <li class="nav-item"><a href="#" class="nav-link" data-page="tasks"><i class="bi bi-list-check"></i> Tasks</a></li>
        <li class="nav-item"><a href="#" class="nav-link" data-page="gantt"><i class="bi bi-bar-chart-steps"></i> Gantt (Events)</a></li>
        <li class="nav-item"><a href="#" class="nav-link" data-page="members"><i class="bi bi-people"></i> Members</a></li>
        <li class="nav-item"><a href="#" class="nav-link" data-page="projects"><i class="bi bi-folder"></i> Projects</a></li>
        <li class="nav-item"><a href="#" class="nav-link" data-page="announcements"><i class="bi bi-megaphone"></i> Announcements</a></li>
        <div style="margin-top: 20px; border-top: 1px solid #eee; padding-top:10px;">
            <li class="nav-item"><a href="#" class="nav-link" data-page="logout"><i class="bi bi-box-arrow-right"></i> Logout</a></li>
        </div>
    </nav>
</aside>

<!-- Main Content -->
<div id="main-wrapper">
    <header>
        <h3 id="current-project-display">No Project Selected</h3>
        <div>
            <span id="user-display">User</span>
        </div>
    </header>

    <main id="main-content">
        <!-- Dynamic Content Here -->
    </main>
</div>

<!-- CUSTOM MODALS (New Structure) -->

<!-- Event Modal (For Gantt CRUD) -->
<div id="eventModal" class="modal-overlay">
    <div class="modal-box">
        <div class="flex-between mb-2">
            <h3>Manage Event</h3>
            <button class="btn btn-outline" onclick="closeModal('eventModal')">X</button>
        </div>
        <form id="event-form">
            <input type="hidden" id="ev-id">
            <label>Event Name</label>
            <input type="text" id="ev-name" required>
            
            <div class="grid-2">
                <div><label>Start</label><input type="date" id="ev-start" required></div>
                <div><label>End</label><input type="date" id="ev-end" required></div>
            </div>
            
            <label>Color</label>
            <input type="color" id="ev-color" value="#ffc107" style="height: 40px;">

            <div class="flex-between mt-2">
                <button type="button" id="btn-delete-event" class="btn btn-danger hidden" onclick="deleteEvent()">Delete</button>
                <button type="submit" class="btn btn-primary">Save Event</button>
            </div>
        </form>
    </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/js/app.js"></script>
</body>
</html>